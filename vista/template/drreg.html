<!DOCTYPE html>
{% load static %}
<html lang="en">

<head>
    <title>Ecoland - Registration Page</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link href="https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Cormorant+Garamond:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

    <link rel="stylesheet" href="{% static 'css/open-iconic-bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/animate.css' %}">
    <link rel="stylesheet" href="{% static 'css/owl.carousel.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/owl.theme.default.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/magnific-popup.css' %}">
    <link rel="stylesheet" href="{% static 'css/aos.css' %}">
    <link rel="stylesheet" href="{% static 'css/ionicons.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/flaticon.css' %}">
    <link rel="stylesheet" href="{% static 'css/icomoon.css' %}">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">

    <!-- Include Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <style>
        body {
            background-image: url('{% static "images/tree.jpg" %}');
            background-size: cover;
            background-position: center;
        }

        .registration {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            flex-direction: column;
            padding: 20px;
        }

        .form-container {
            max-width: 900px;
            width: 100%;
            text-align: center;
            background: rgba(255, 255, 255, 0.9);
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            overflow-y: auto;
            height: 80vh;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .input-with-icon {
            position: relative;
        }

        input[type="text"],
        input[type="email"],
        input[type="password"],
        input[type="tel"],
        input[type="number"],
        select,
        textarea {
            width: 100%;
            padding: 10px;
            padding-right: 40px;
            box-sizing: border-box;
        }

        .user-icon,
        .email-icon,
        .toggle-password,
        .toggle-confirm-password {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            color: #aaa;
            cursor: pointer;
        }

        .btn {
            width: 100%;
        }

        .register-link {
            margin-top: 20px;
            display: block;
            color: black;
            text-decoration: underline;
        }

        .error-message {
            color: red;
            margin: 10px 0;
            display: none;
        }

        textarea {
            resize: none;
        }

        .checkbox-label {
            display: flex;
            align-items: center;
        }

        .checkbox-label input {
            margin-right: 10px;
        }
    </style>
</head>

<body>
    <div class="registration">
        <div class="form-container">
            <form class="bg-light contact-form" onsubmit="return confirmRegistration();" method="POST" enctype="multipart/form-data">
                {% csrf_token %}
                {% for msg in messages %}
                    <h4 style="color:red">{{ msg }}</h4>
                {% endfor %}

                <!-- User Type Dropdown -->
                <div class="form-group">
                    <label for="user-type" style="display: block; text-align: left;">Select Role</label>
                    <select id="user-type" name="Roles" class="form-control" required>
                        <option value="" disabled selected>Select Role</option>
                        <option value="DRIVER">Driver</option>
                        <option value="CAB">Cab Owner</option>
                    </select>
                </div>

                <!-- Username -->
                <div class="form-group input-with-icon">
                    <input type="text" class="form-control" name="Username" placeholder="Username" required>
                    <i class="fas fa-user user-icon" aria-hidden="true"></i>
                </div>

                <!-- Age -->
                <div class="form-group input-with-icon">
                    <input type="number" class="form-control" name="Age" placeholder="Age" min="18" max="100" required>
                    <i class="fas fa-birthday-cake user-icon" aria-hidden="true"></i>
                </div>

                <!-- Email -->
                <div class="form-group input-with-icon">
                    <input type="email" class="form-control" name="Email" placeholder="Email" required>
                    <i class="fas fa-envelope email-icon" aria-hidden="true"></i>
                </div>

                <!-- Phone Number -->
                <div class="form-group input-with-icon">
                    <input type="tel" class="form-control" name="Phone" placeholder="Phone Number" pattern="[0-9]{10}" required>
                    <i class="fas fa-phone user-icon" aria-hidden="true"></i>
                </div>

                <!-- Address -->
                <div class="form-group">
                    <textarea class="form-control" name="Address" rows="3" placeholder="Address" required></textarea>
                </div>

                <!-- State -->
                <div class="form-group">
                    <select class="form-control" name="State" required>
                        <option value="" disabled selected>Select State</option>
                        <option value="Andhra Pradesh">Andhra Pradesh</option>
                        <option value="Arunachal Pradesh">Arunachal Pradesh</option>
                        <option value="Assam">Assam</option>
                        <option value="Bihar">Bihar</option>
                        <option value="Chhattisgarh">Chhattisgarh</option>
                        <option value="Goa">Goa</option>
                        <option value="Gujarat">Gujarat</option>
                        <option value="Haryana">Haryana</option>
                        <option value="Himachal Pradesh">Himachal Pradesh</option>
                        <option value="Jharkhand">Jharkhand</option>
                        <option value="Karnataka">Karnataka</option>
                        <option value="Kerala">Kerala</option>
                        <option value="Madhya Pradesh">Madhya Pradesh</option>
                        <option value="Maharashtra">Maharashtra</option>
                        <option value="Manipur">Manipur</option>
                        <option value="Meghalaya">Meghalaya</option>
                        <option value="Mizoram">Mizoram</option>
                        <option value="Nagaland">Nagaland</option>
                        <option value="Odisha">Odisha</option>
                        <option value="Punjab">Punjab</option>
                        <option value="Rajasthan">Rajasthan</option>
                        <option value="Sikkim">Sikkim</option>
                        <option value="Tamil Nadu">Tamil Nadu</option>
                        <option value="Telangana">Telangana</option>
                        <option value="Tripura">Tripura</option>
                        <option value="Uttar Pradesh">Uttar Pradesh</option>
                        <option value="Uttarakhand">Uttarakhand</option>
                        <option value="West Bengal">West Bengal</option>
                        <option value="Andaman and Nicobar Islands">Andaman and Nicobar Islands</option>
                        <option value="Chandigarh">Chandigarh</option>
                        <option value="Dadra and Nagar Haveli and Daman and Diu">Dadra and Nagar Haveli and Daman and Diu</option>
                        <option value="Lakshadweep">Lakshadweep</option>
                        <option value="Delhi">Delhi</option>
                        <option value="Puducherry">Puducherry</option>
                    </select>
                </div>

                <!-- Aadhar Card -->
                <div class="form-group input-with-icon">
                    <input type="text" class="form-control" name="Aadhar" placeholder="Aadhar Card Number" required>
                    <i class="fas fa-id-card user-icon" aria-hidden="true"></i>
                </div>

                <!-- Experience -->
                <div class="form-group">
                    <textarea class="form-control" name="Experience" rows="3" placeholder="Briefly Describe Your Experience"></textarea>
                </div>

                <!-- Profile Image -->
                <div class="form-group">
                    <label for="photo-upload" style="display: block; text-align: left;">Upload Profile Image</label>
                    <input type="file" id="photo-upload" name="image" class="form-control" accept="image/*" required>
                </div>

                <!-- Driver's License Image -->
                <div class="form-group">
                    <label for="license-upload" style="display: block; text-align: left;">Upload Driver's License Image</label>
                    <input type="file" id="license-upload" name="LicenseImage" class="form-control" accept="image/*" required>
                </div>

                <!-- Password -->
                <div class="form-group input-with-icon">
                    <input type="password" id="password" name="password" class="form-control" placeholder="Password" required>
                    <i class="fas fa-eye toggle-password" onclick="togglePassword()" aria-hidden="true"></i>
                </div>

                <!-- Confirm Password -->
                <div class="form-group input-with-icon">
                    <input type="password" id="confirm-password" name="confirm_password" class="form-control" placeholder="Confirm Password" required>
                    <i class="fas fa-eye toggle-confirm-password" onclick="toggleConfirmPassword()" aria-hidden="true"></i>
                </div>
                <div class="error-message" id="password-error">Passwords do not match!</div>

                <!-- Terms and Conditions -->
                <div class="form-group" style="text-align: left;">
                    <label class="checkbox-label">
                        <input type="checkbox" id="terms"> I agree to the terms and conditions
                    </label>
                </div>

                <!-- Submit Button -->
                <div class="form-group">
                    <input type="submit" value="Register" class="btn btn-primary py-3 px-5">
                </div>

                <!-- Login Link -->
                <a href="drlog" class="register-link">Already have an account? Log In</a>
            </form>
        </div>
    </div>

    <script>
        function togglePassword() {
            const passwordInput = document.getElementById('password');
            const togglePasswordIcon = document.querySelector('.toggle-password');
            if (passwordInput.type === "password") {
                passwordInput.type = "text";
                togglePasswordIcon.classList.remove('fa-eye');
                togglePasswordIcon.classList.add('fa-eye-slash');
            } else {
                passwordInput.type = "password";
                togglePasswordIcon.classList.remove('fa-eye-slash');
                togglePasswordIcon.classList.add('fa-eye');
            }
        }

        function toggleConfirmPassword() {
            const confirmPasswordInput = document.getElementById('confirm-password');
            const toggleConfirmPasswordIcon = document.querySelector('.toggle-confirm-password');
            if (confirmPasswordInput.type === "password") {
                confirmPasswordInput.type = "text";
                toggleConfirmPasswordIcon.classList.remove('fa-eye');
                toggleConfirmPasswordIcon.classList.add('fa-eye-slash');
            } else {
                confirmPasswordInput.type = "password";
                toggleConfirmPasswordIcon.classList.remove('fa-eye-slash');
                toggleConfirmPasswordIcon.classList.add('fa-eye');
            }
        }

        function confirmRegistration() {
            const termsAccepted = document.getElementById('terms').checked;
            const password = document.getElementById('password').value;
            const confirmPassword = document.getElementById('confirm-password').value;
            if (!termsAccepted) {
                alert('You must agree to the terms and conditions.');
                return false;
            }
            if (password !== confirmPassword) {
                document.getElementById('password-error').style.display = 'block';
                return false;
            }
            return true;
        }
    </script>
</body>

</html>
